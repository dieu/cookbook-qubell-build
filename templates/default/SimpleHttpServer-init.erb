#!/bin/bash
# chkconfig: 2345 95 20
# description: manage SimpleHTTPServer
# What your script does (not sure if this is necessary though)
# processname: SimpleHTTPServer
##
# start|stop|restart python SimpleHTTPServer
#
# USAGE:
#   ./SimpleHTTPServer start|stop|restart
#
# VIEW:
#   http://54.161.214.213:8080

cd /tmp/mvn

start() {
  echo "start python SimpleHTTPServer"
  nohup python -m SimpleHTTPServer 8080 > /tmp/nohup.out 2>&1 &
}
stop() {
  echo "stop python SimpleHTTPServer"
  kill `ps aux | grep "python -m SimpleHTTPServer"| grep -v grep | awk '{print $2}'` > /tmp/nohup.out 2>&1
}
case $1 in
        "start" )
               start
               ;;
        "stop" )
               stop
               ;;
        "restart" )
               stop
               start 
               ;;
        *)
                echo "need start|stop|restart"
                exit 1
esac

